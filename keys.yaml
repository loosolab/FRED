project:
  mandatory: True
  list:  False
  display_name: 'Project'
  desc: 'This section collects general information about the project and the people responsible for it.'
  value:
    id:
      mandatory: True
      list: False
      display_name: 'ID'
      desc: "Enter the ID of your project, consisting of three lowercase letters followed by a number. (e.g. 'dst123', 'dof54', ...)"
      special_case:
        generated: now
        restriction:
          regex: '\b(?![a-z]([a-z]([a-z][0-9]*)?)?\b)\w+'
          max_length: 7
      value: null
      whitelist: False
      input_type: restricted_short_text
    project_name:
      mandatory: True
      list: False
      display_name: 'Project Name'
      desc: "Give your project a descriptive name. (e.g. 'mouse heart investigation on the role of gene Panx2')"
      value: null
      whitelist: False
      input_type: short_text
    date:
      mandatory: True
      list: False
      display_name: 'Date'
      desc: "Date your experiment. The date has the format 'dd.mm.yyyy' (e.g. '18.10.2023')."
      value: null
      whitelist: False
      input_type: date
    description:
      mandatory: True
      list: False
      display_name: 'Description'
      desc: 'Here you need to enter a detailed description of the project (e.g. an abstract). This field can further be used for all data that does not fit into existing fields, including further information on the exact exon/position, etc.'
      value: null
      whitelist: False
      input_type: long_text
    further_description:
      mandatory: False
      list: True
      display_name: 'Further Description / Additional Info'
      desc: 'Here you can insert links to files or URLs that contain additional information. (e.g. link to presentation, paper or GEO)'
      value: null
      whitelist: False
      input_type: short_text
    graphical_abstract:
      mandatory: False
      list: True
      display_name: 'Graphical Abstract'
      desc: 'Here you can insert links to a graphical abstracts.'
      value: null
      whitelist: False
      input_type: short_text
    owner:
      mandatory: True
      list: False
      display_name: 'Owner'
      desc: 'The owner manages the project and acts as the first point of contact for questions.'
      value:
        name:
          mandatory: True
          list: False
          display_name: 'Name'
          desc: "The name should be entered in the format 'Last name, First name' (e.g. 'Mustermann, Max'). For public projects enter 'public'."
          value: null
          whitelist: False
          input_type: short_text
        ldap_name:
          mandatory: True
          list: False
          display_name: 'MPI Login Name'
          desc: "It consists of the first letter of your first name and the first six letters of your last name (e.g. 'mmuster' for Max Mustermann; 'jdoe' for John Doe). For public projects enter '---'."
          value: null
          whitelist: False
          input_type: short_text
        department:
          mandatory: True
          list: False
          display_name: 'Department'
          desc: "Specify the department to which you belong (e.g. 'Abt-K'). For public projects enter 'public'."
          value: null
          whitelist: True
          input_type: select
        email:
          mandatory: True
          list: False
          display_name: 'E-Mail'
          desc: "Enter your email address here (e.g. 'max.mustermann@mpi-bn.mpg.de'). For public projects enter '---'."
          value: null
          whitelist: False
          input_type: short_text
        address:
          mandatory: False
          list: False
          display_name: 'Address'
          desc: "Here you can enter your address (e.g. 'Ludwigstraße 43, 61231 Bad Nauheim')."
          value: null
          whitelist: False
          input_type: short_text
        telephone:
          mandatory: False
          list: False
          display_name: 'Telephone'
          desc: "Here you can enter your phone number (e.g. '+49 123456789')."
          value: null
          whitelist: False
          input_type: short_text
    nerd:
      mandatory: False
      list: True
      display_name: 'Nerd'
      desc: 'A nerd is a person assigned to the project to perform analysis.'
      value:
        name:
          mandatory: True
          list: False
          display_name: 'Name'
          desc: "The name should be entered in the format 'Last name, First name' (e.g. 'Mustermann, Max')."
          value: null
          whitelist: False
          input_type: short_text
        ldap_name:
          mandatory: True
          list: False
          display_name: 'MPI Login Name'
          desc: "It consists of the first letter of the Nerds first name and the first six letters of his last name (e.g. 'mmuster' for Max Mustermann; 'jdoe' for John Doe)."
          value: null
          whitelist: False
          input_type: short_text
        department:
          mandatory: True
          list: False
          display_name: 'Department'
          desc: "Specify the department to which the Nerd belongs (e.g. 'AG-nerds')."
          value: null
          whitelist: True
          input_type: select
        email:
          mandatory: True
          list: False
          display_name: 'E-Mail'
          desc: "Enter the Nerds email address here (e.g. 'max.mustermann@mpi-bn.mpg.de')."
          value: null
          whitelist: False
          input_type: short_text
        address:
          mandatory: False
          list: False
          display_name: 'Address'
          desc: "Here you can enter the Nerds address (e.g. 'Ludwigstraße 43, 61231 Bad Nauheim')."
          value: null
          whitelist: False
          input_type: short_text
        telephone:
          mandatory: False
          list: False
          display_name: 'Telephone'
          desc: "Here you can enter the Nerds phone number (e.g. '+49 123456789')."
          value: null
          whitelist: False
          input_type:
            short_text

experimental_setting:
  mandatory: True
  list: True
  display_name: 'Experimental setting'
  desc:
    - "This part contains the investigated experimental factors and conditions as well as information about the samples. You can specify multiple experimental settings for multiple sample submissions.\n"
    - [["Experimental Factors:", "Conditions:"], ["The experimental factors correspond to the properties studied in the experiment. These properties differ between the individual sample groups.", "The conditions result from the combinations of all entered experimental factors. From all conditions formed, those that reflect the studied sample groups must be selected. "], ["Example:\ngenetic background: Mut, WT\ntime point: 12h, 24h", "Example:\n- Mut-12h\n- Mut-24h\n- WT-12h\n- WT-24h"]]
  value:
    setting_id:
      mandatory: True
      list: False
      display_name: 'Setting ID'
      desc: "The Setting ID is automatically assigned to uniquely identify an experimental setting (e.g. 'exp1', 'exp2', ...)."
      value: exp1
      special_case:
        generated: now
      whitelist: False
      input_type: short_text
    organism:
      mandatory: True
      list: False
      display_name: 'Organism'
      desc: "The organism identifier is composed of the organism name and the Taxonomy ID (e.g. 'human 9606')."
      special_case:
        merge: organism_name
      value:
        organism_name:
          mandatory: True
          list: False
          display_name: 'Organism Name'
          desc: ''
          value: null
          whitelist: True
          input_type: select
        taxonomy_id:
          mandatory: True
          list: False
          display_name: 'Taxonomy ID'
          desc: ''
          value: null
          whitelist: True
          input_type: select
    experimental_factors:
      mandatory: True
      list: True
      display_name: 'Experimental Factors'
      desc: 'Select your investigated factors and conditions.'
      factor_desc: "Define here your investigated factors (e.g. 'WT'/'KO', '3h'/'6h'), which can be combined later to conditions (e.g. 'WT-3h', 'WT-6h', ...). Enter only those information as factors, which you use to compare your samples with each other."
      special_case:
        generated: now
      value:
        factor:
          mandatory: True
          list: False
          display_name: 'Factor'
          desc: ''
          value: null
          whitelist: True
          input_type: select
        values:
          mandatory: True
          list: False
          display_name: 'Values'
          desc: ''
          value: null
          whitelist: True
          input_type: select
    conditions:
      mandatory: True
      list: True
      display_name: 'Samples'
      desc: 'This section shows all your selected conditions for which you have to enter samples.'
      special_case:
        generated: now
      value:
        condition_name:
          mandatory: True
          list: False
          display_name: 'Condition Name'
          desc: 'The condition name is automatically generated.'
          value: null
          whitelist: False
          input_type: short_text
        biological_replicates:
          mandatory: True
          list: False
          display_name: 'Biological Replicates'
          desc: 'A biological replicate is a sample extracted from a specific organism that corresponds to the condition.'
          value:
            count:
              mandatory: True
              list: False
              display_name: 'Count'
              desc: 'Enter the number of biological replicates.'
              value: null
              whitelist: False
              input_type: number
            samples:
              mandatory: True
              list: True
              display_name: 'Samples'
              desc: 'In this part, information on each biological replicate is entered.'
              value:
                sample_name:
                  mandatory: True
                  list: False
                  display_name: 'Sample Name'
                  desc: 'A unique name is automatically assigned to every sample.'
                  value: null
                  whitelist: False
                  input_type: long_text
                pooled:
                  mandatory: True
                  list: False
                  display_name: 'Pooled'
                  desc: 'Indicate if your sample is pooled, i.e. the sample is a collection of multiple donors from one organism. '
                  value: False
                  whitelist: False
                  input_type: bool
                number_of_measurements:
                  mandatory: False
                  list: False
                  display_name: 'Number of Measurements'
                  desc: 'The number of measurements is used to indicate how many times a technical replicate is measured (e.g. a technical replicate applied on a gel, which is cut into 6 bands that are measured individually, corresponds to a number of measurements of 6).'
                  value: 1
                  whitelist: False
                  input_type: number
                genetic_background:
                  mandatory: False
                  list: False
                  display_name: 'Genetic background'
                  desc: "Enter the genetic background of the sample (e.g. 'Mut', 'WT')."
                  factor_desc: "Here a mutation can be specified if no further details about the type of mutation are known (e.g. 'WT', 'Mut'). If the mutation is known in more detail, it is recommended to specify it via gene editing."
                  value: null
                  whitelist: True
                  input_type: select
                gender:
                  mandatory: False
                  list: False
                  display_name: 'Gender'
                  desc: "Specify the gender of the sample donor (e.g. 'male')."
                  value: null
                  whitelist: True
                  input_type: select
                life_stage:
                  mandatory: False
                  list: False
                  display_name: 'Life stage'
                  desc: "Specify the life stage of the sample donor (e.g. 'adult')"
                  value: null
                  whitelist: True
                  input_type: select
                age:
                  mandatory: False
                  list: False
                  display_name: 'Age'
                  desc: "Specify the age of the sample donor (e.g. '2 years')"
                  special_case:
                    value_unit: time
                  value:
                    value:
                      mandatory: True
                      list: False
                      display_name: 'Value'
                      desc: ''
                      value: null
                      whitelist: False
                      input_type: number
                    unit:
                      mandatory: True
                      list: False
                      display_name: 'Unit'
                      desc: ''
                      value: null
                      whitelist: True
                      input_type: select
                ethnicity:
                  mandatory: False
                  list: False
                  display_name: 'Ethnicity'
                  desc: "Specify the ethnicity of the sample donor (e.g. 'caucasian')"
                  value: null
                  whitelist: True
                  input_type: select
                tissue:
                  mandatory: False
                  list: True
                  display_name: 'Tissue'
                  desc: "Indicate the tissue the sample was taken from (e.g. 'lung')."
                  value: null
                  whitelist: True
                  input_type: select
                cell_type:
                  mandatory: False
                  list: False
                  display_name: 'Cell type'
                  desc: "Specify which cells the sample contains (e.g. 'Cardiomyocytes')."
                  value: null
                  whitelist: True
                  input_type: select
                cell_line:
                  mandatory: False
                  list: False
                  display_name: 'Cell line'
                  desc: "Specify which cell line was used for the sample (e.g. 'HUVEC')."
                  value: null
                  whitelist: True
                  input_type: select
                cellular_compartment:
                  mandatory: False
                  list: True
                  display_name: 'Cellular Component'
                  desc: "Indicate to which cellular compartment the sample corresponds (e.g. 'mitochondrion')."
                  value: null
                  whitelist: True
                  input_type: select
                disease:
                  mandatory: False
                  list: True
                  display_name: 'Disease'
                  desc: 'Specify the health status of the sample donor.'
                  factor_desc: "Here it is possible to indicate which state of health the donor is in. This can be additionally refined by stating specific diseases and their stages."
                  special_case:
                    group: 'disease_type'
                    control:
                      disease_status: 'healthy'
                  value:
                    disease_type:
                      mandatory: False
                      list: False
                      display_name: 'Type'
                      desc: "The nature of the disease (e.g. 'Asthma', 'Covid', ...)."
                      value: null
                      whitelist: True
                      input_type: select
                    disease_status:
                      mandatory: True
                      list: False
                      display_name: 'Status'
                      desc: "The state of health (e.g. 'healthy', 'ill', ...)."
                      value: null
                      whitelist: True
                      input_type: select
                    disease_stage:
                      mandatory: False
                      list: False
                      display_name: 'Stage'
                      desc: "The stage of the disease (e.g. 'early', 'late', ...)."
                      value: null
                      whitelist: True
                      input_type: select
                injury:
                  mandatory: False
                  list: True
                  display_name: 'Injury'
                  desc: "Indicate any injuries sustained by the sample donor."
                  factor_desc: "Here you can specify whether injuries were inflicted on the sample donor. These injuries can be differentiated according to the type of injury."
                  special_case:
                    group: 'injury_type'
                    control:
                      injury_status: 'non-injured'
                  value:
                    injury_status:
                      mandatory: True
                      list: False
                      display_name: 'Status'
                      desc: "Specify the status of the injury (e.g. 'injured', 'non-injured')."
                      value: null
                      whitelist: True
                      input_type: select
                    injury_type:
                      mandatory: False
                      list: False
                      display_name: 'Type'
                      desc: "Specify the type of injury (e.g. 'sham', 'amputation', ...)."
                      value: null
                      whitelist: True
                      input_type: select
                medical_treatment:
                  mandatory: False
                  list: True
                  display_name: 'Medical Treatment'
                  desc: "Here you can specify whether substances were administered to the sample donor. The type of substance, the dose and the duration of administration can be further detailed."
                  factor_desc: "Indicate whether substances were administered to the sample donor."
                  special_case:
                    group: 'treatment_type'
                    control:
                      treatment_status: 'not treated'
                  value:
                    treatment_type:
                      mandatory: False
                      list: False
                      display_name: 'Type'
                      desc: "The type of substance administered to the sample donor (e.g. 'Cardiotoxin')."
                      value: null
                      whitelist: True
                      input_type: select
                    treatment_status:
                      mandatory: True
                      list: False
                      display_name: 'Status'
                      desc: "The status of administration (e.g. 'treated', 'not treated', ...)."
                      value: null
                      whitelist: True
                      input_type: select
                    treatment_duration:
                      mandatory: False
                      list: False
                      display_name: 'Duration'
                      desc: "The duration of the administration (e.g. '2 weeks')."
                      special_case:
                        value_unit: time
                      value:
                        value:
                          mandatory: True
                          list: False
                          display_name: 'Value'
                          desc: ''
                          value: null
                          whitelist: False
                          input_type: number
                        unit:
                          mandatory: False
                          list: False
                          display_name: 'Unit'
                          desc: ''
                          value: null
                          whitelist: True
                          input_type: select
                    treatment_amount:
                      mandatory: False
                      list: False
                      display_name: 'Amount'
                      desc: "The amount that was administered (e.g. '20 μM')."
                      special_case:
                        value_unit: volume
                      value:
                        value:
                          mandatory: True
                          list: False
                          display_name: 'Value'
                          desc: ''
                          value: null
                          whitelist: False
                          input_type: number
                        unit:
                          mandatory: False
                          list: False
                          display_name: 'Unit'
                          desc: ''
                          value: null
                          whitelist: True
                          input_type: select
                time_point:
                  mandatory: False
                  list: False
                  display_name: 'Time Point'
                  desc: "Inidicate a time point (e.g. '24 hours')."
                  factor_desc: "Here, time points can be specified that cannot be represented via other fields of the metadata, such as the duration between sample collections (e.g. '12 hours',  '24 hours', ...)."
                  special_case:
                    value_unit: time
                  value:
                    value:
                      mandatory: False
                      list: False
                      display_name: 'Value'
                      desc: ''
                      value: null
                      whitelist: False
                      input_type: number
                    unit:
                      mandatory: False
                      list: False
                      display_name: 'Unit'
                      desc: ''
                      value: null
                      whitelist: True
                      input_type: select
                body_mass_index:
                  mandatory: False
                  list: False
                  display_name: 'Body-Mass-Index'
                  desc: "Specify the body mass index of the sample donor (e.g. '20 kg/m2')."
                  special_case:
                    value_unit: bmi
                  value:
                    value:
                      mandatory: False
                      list: False
                      display_name: 'Value'
                      desc: ''
                      value: null
                      whitelist: False
                      input_type: number
                    unit:
                      mandatory: False
                      list: False
                      display_name: 'Unit'
                      desc: ''
                      value: 'kg/m2'
                      whitelist: True
                      input_type: select
                physical_treatment:
                  mandatory: False
                  list: False
                  display_name: 'Physical Treatment'
                  desc: "Specify whether the sample has undergone physical treatment (e.g. 'hypoxia', 'sheer stress', ...)."
                  value: null
                  whitelist: True
                  input_type: select
                gene_editing:
                  mandatory: False
                  list: True
                  display_name: 'Gene editing'
                  desc: "Enter a mutations of the sample in higher detail (e.g. 'WT', 'knockdown of gene DFFA')"
                  factor_desc: "Here, mutations can be stored in higher detail, since additional information, such as the type of mutation (e.g. 'WT', 'knockdown', 'knockout', ...) or genes (e.g. 'Panx2'), can also be specified."
                  special_case:
                      control:
                        editing_type: 'WT'
                  value:
                    editing_type:
                      mandatory: True
                      list: False
                      display_name: 'Type'
                      desc: 'The type of mutation (e.g. WT, knockdown, ...).'
                      value: null
                      whitelist: True
                      input_type: select
                    editing_method:
                      mandatory: False
                      list: False
                      display_name: 'Method'
                      desc: 'The method by which the mutation was created (e.g. CRISPR-Cas9).'
                      value: null
                      whitelist: True
                      input_type: select
                    gene:
                      mandatory: False
                      list: False
                      display_name: 'Gene'
                      desc: "The mutant gene consisting of gene name and Ensembl ID (e.g. 'GPX2 ENSG00000176153')."
                      special_case:
                        merge: gene_name
                      value:
                        gene_name:
                          mandatory: True
                          list: False
                          display_name: 'Gene Name'
                          desc: ''
                          value: null
                          whitelist: True
                          input_type: select
                        ensembl_id:
                          mandatory: True
                          list: False
                          display_name: 'ENSEMBL-ID'
                          desc: ''
                          value: null
                          whitelist: True
                          input_type: select
                    modification:
                      mandatory: False
                      list: False
                      display_name: 'Modification'
                      desc: 'Free text (max. 6 characters) to specify mutations or gene isoforms. (e.g. FLD, PTC1, ...)'
                      special_case:
                        restriction:
                          regex: '[^a-zA-Z0-9]'
                          max_length: 6
                        insert_control: True
                      value: null
                      whitelist: False
                      input_type: restricted_short_text
                enrichment:
                  mandatory: False
                  list: False
                  display_name: 'Enrichment / Histone-Mark / Pull-Down'
                  factor_desc: 'Here you can enter the enrichment for bound proteins or histone marks as a result of an antibody pulldown or similar procedure (e.g. ChIPSeq, Cut&Tag, RiboTag).'
                  desc: "State the enrichment for a protein or histone mark (e.g. 'GPX2', 'H2BK12ac', 'IgG', ...)."
                  value: null
                  whitelist: True
                  input_type: select
                donor_count:
                  mandatory: True
                  list: False
                  display_name: 'Donor Count'
                  desc: 'The donor count indicates how many specimens of an organism were pooled together in a sample.'
                  value: 1
                  whitelist: False
                  input_type: number
                technical_replicates:
                  mandatory: True
                  list: False
                  display_name: 'Technical Replicates'
                  desc: 'A technical replicate is the result of the measurement of one biological replicate (e.g. if one biological replicate is sequenced twice then there are two technical replicates).'
                  value:
                    count:
                      mandatory: True
                      list: False
                      display_name: 'Count'
                      desc: 'The number of technical replicates.'
                      value: 1
                      whitelist: False
                      input_type: number
                    sample_name:
                      mandatory: True
                      list: True
                      display_name: 'Samples'
                      desc: 'Unique sample names generated for every technical replicate.'
                      value: null
                      whitelist: False
                      input_type: short_text
                    filenames:
                      mandatory: True
                      list: True
                      display_name: 'Filenames'
                      desc: 'Unique filenames generated for every technical replicate.'
                      value: null
                      whitelist: False
                      input_type: short_text

technical_details:
  mandatory: True
  list: False
  display_name: 'Technical Details'
  desc: 'This part contains all technical details of the experiment including an analysis part that stores additional information e.g. about runs.'
  value:
    techniques:
      mandatory: True
      list: True
      display_name: 'Techniques'
      desc: 'Enter the sequencing technique for each experimental setting.'
      value: 
        setting:
          mandatory: True
          list: False
          display_name: 'Setting'
          desc: "The ID of the setting for which you want to add a technique (e.g. 'exp1', 'exp2', ...)."
          value: exp1
          whitelist: False
          special_case:
            restriction:
              regex: '\b(?!e(x(p[0-9]*)?)?\b)\w+'
              max_length: 5
          input_type: restricted_short_text
        technique:
          mandatory: True
          list: True
          display_name: 'Technique'
          desc: "The technique you want to use to sequence the samples of the specified experimental setting (e.g. 'bulk RNA-seq')."
          value: null
          whitelist: True
          input_type: select
    analysis_runs:
      mandatory: False
      list: True
      display_name: 'Analysis Runs'
      desc: 'Here you can enter information about performed analysis runs. It is usually filled in by the nerd.'
      value:
        date:
          mandatory: True
          list: False
          display_name: 'Date'
          desc: "Select the date you performed the run. The date has the format dd.mm.yyyy (e.g. '18.10.2023')."
          value: null
          whitelist: False
          input_type: date
        reference_genome:
          mandatory: False
          list: False
          display_name: 'Reference Genome'
          desc: "Select the reference genome you used in the analysis run (e.g. 'hg38')"
          value: null
          whitelist: True
          input_type: select
        parameters:
          mandatory: False
          list: True
          display_name: 'Parameters'
          desc: 'Here you can insert links to files that contain the parameters used for the run.'
          value: null
          whitelist: False
          input_type: short_text
        output:
          mandatory: False
          list: True
          display_name: 'Output'
          desc: 'Here you can insert links to the output files of the run.'
          value: null
          whitelist: False
          input_type: short_text
    sample_preparation:
      mandatory: False
      list: True
      display_name: 'Sample preparation'
      desc: 'Here you can insert links to files or URLs that contain information regarding the sample preparation.'
      value: null
      whitelist: False
      input_type: short_text
    further_description:
      mandatory: False
      list: True
      display_name: 'Further description'
      desc: 'Here you can insert links to files or URLs that contain additional information. (e.g. a presentation or a paper).'
      value: null
      whitelist: False
      input_type: short_text
